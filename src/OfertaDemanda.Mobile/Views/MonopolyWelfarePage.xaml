<?xml version="1.0" encoding="UTF-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Maui;assembly=LiveChartsCore.SkiaSharpView.Maui"
             x:Class="OfertaDemanda.Mobile.Views.MonopolyWelfarePage">
  <Grid RowDefinitions="*,Auto" RowSpacing="12" Padding="12">
    <ScrollView Grid.Row="0" VerticalOptions="FillAndExpand">
      <VerticalStackLayout Spacing="10">
        <Label Text="{Binding Localization[Common_Results]}" FontAttributes="Bold" />
        <FlexLayout Wrap="Wrap">
          <Label Text="{Binding MonopolyQuantityText}" Margin="0,0,8,0" />
          <Label Text="{Binding CompetitiveQuantityText}" Margin="0,0,8,0" />
          <Label Text="{Binding DeadweightLossText}" Margin="0,0,8,0" />
        </FlexLayout>

        <Label Text="{Binding Localization[Monopoly_Visualization_Title]}" FontAttributes="Bold" Margin="0,10,0,0" />
        <HorizontalStackLayout Spacing="8">
          <CheckBox IsChecked="{Binding ShowDeadweightArea}" />
          <Label Text="{Binding Localization[Monopoly_Toggle_Deadweight]}" />
        </HorizontalStackLayout>

        <Frame IsVisible="{Binding HasErrors}" BackgroundColor="#FFF0F0" Padding="8" CornerRadius="6">
          <VerticalStackLayout>
            <Label Text="{Binding Localization[Common_Errors]}" FontAttributes="Bold" />
            <VerticalStackLayout BindableLayout.ItemsSource="{Binding Errors}" Spacing="2">
              <BindableLayout.ItemTemplate>
                <DataTemplate>
                  <Label Text="â€¢ {Binding .}" />
                </DataTemplate>
              </BindableLayout.ItemTemplate>
            </VerticalStackLayout>
          </VerticalStackLayout>
        </Frame>
      </VerticalStackLayout>
    </ScrollView>

    <lvc:CartesianChart Grid.Row="1"
                        Series="{Binding Series}"
                        XAxes="{Binding XAxes}"
                        YAxes="{Binding YAxes}"
                        LegendPosition="Right"
                        HeightRequest="260" />
  </Grid>
</ContentView>
